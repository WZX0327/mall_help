import{s as p,_ as w,d as y,o as h,c as D,a as u,B as c,K as v,b as t,w as o,v as E,x as C,E as n,y as S,f as k,n as F,g as U,i as $,j as m,L as N,M as B,l as T,m as q,k as P}from"./index-865ba819.js";/* empty css                   *//* empty css                        *//* empty css                 *//* empty css                  *//* empty css                   *//* empty css                       */const A=e=>p.request({url:"mall/oms-company-address/page",method:"post",data:e}),I=e=>p.request({url:"mall/oms-company-address/add",method:"POST",data:e}),z=e=>p.request({url:"mall/oms-company-address/del/"+e.id,method:"GET"}),L=e=>p.request({url:"mall/oms-company-address/edit",method:"POST",data:e});const M=y({props:["id"],data(){return{companys:[],resuleData:{},requestData:{current:1,size:10},resuleData:{},dialogVisible:!1,itemData:{},isEdit:!1,ruleForm:{name:""},show:!0,dialogVisible:!1,itemData:{},isEdit:!1}},methods:{handleEdit(){this.flag=!0},showEdit(e){this.isEdit=!0,this.itemData={id:e.id,addressName:e.addressName,receiveStatus:e.receiveStatus,name:e.name,phone:e.phone,province:e.province,city:e.city,region:e.region,detailAddress:e.detailAddress},this.dialogVisible=!0},confirm(){this.$refs.dialogForm.validate(e=>{if(e)this.itemData.createTime=new Date,I(this.itemData).then(l=>{l.code===1?(this.dialogVisible=!1,n({message:"新增成功",type:"success"}),this.getList(),this.findPage()):n({message:"新增失败",type:"error"})});else return!1})},editConfirm(){this.$refs.dialogForm.validate(e=>{if(e)L(this.itemData).then(l=>{l.code===1?(this.dialogVisible=!1,n({message:"修改成功",type:"success"}),this.findPage()):n({message:"修改失败",type:"error"})});else return!1})},handleSizeChange(e){this.requestData.size=e,this.findPage()},confire(){this.dialogVisible=!1,this.itemData={}},getList(){A(this.requestData).then(e=>{this.resuleData=e.data.page,this.companys=this.resuleData.records,console.log(this.resuleData)})},showDialog(){this.isEdit=!1,this.itemData={},this.dialogVisible=!0},handleDelete(e){console.log(e),S.confirm("是否删除该记录?","删除数据",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{z({id:e.id}).then(l=>{l.code===1?(n({type:"success",message:"删除成功"}),this.getList()):n({type:"error",message:"删除失败"})})}).catch(()=>{n({type:"info",message:"取消删除"})})}},mounted(){this.getList()}}),_=e=>(N("data-v-8a91c4b2"),e=e(),B(),e),O={class:""},j=_(()=>u("h2",null,"公司订单",-1)),G={class:"tools"},K={class:"dialog-footer"};function H(e,l,J,Q,R,W){const i=T,s=q,r=k,f=F,d=P,b=U,g=$;return h(),D("div",O,[j,u("div",null,[c(t(f,{inline:!0,model:e.ruleForm,ref:"ruleForm",class:"demo-form-inline"},{default:o(()=>[t(s,{label:"公司名称",prop:"name"},{default:o(()=>[t(i,{modelValue:e.ruleForm.name,"onUpdate:modelValue":l[0]||(l[0]=a=>e.ruleForm.name=a),placeholder:"公司名称"},null,8,["modelValue"])]),_:1}),t(s,null,{default:o(()=>[t(r,{type:"primary",onClick:l[1]||(l[1]=a=>e.submitForm("ruleForm"))},{default:o(()=>[m("搜索 ")]),_:1}),t(r,{onClick:l[2]||(l[2]=a=>e.resetForm("ruleForm"))},{default:o(()=>[m("重置")]),_:1})]),_:1})]),_:1},8,["model"]),[[v,e.show]]),u("div",G,[t(r,{icon:"Plus",onClick:e.showDialog},null,8,["onClick"])])]),t(b,{data:e.companys,"border:true":"",style:{width:"100%"}},{default:o(()=>[t(d,{prop:"id",label:"编号",width:"100"}),t(d,{prop:"addressName",label:"地址名称",width:"150"}),t(d,{prop:"sendStatus",label:"默认发货地址",width:"100"}),t(d,{prop:"receiveStatus",label:"默认收获地址",width:"100"}),t(d,{prop:"name",label:"收获人姓名",width:"80"}),t(d,{prop:"phone",label:"电话",width:"102"}),t(d,{prop:"province",label:"省",width:"100"}),t(d,{prop:"city",label:"市",width:"100"}),t(d,{prop:"region",label:"区",width:"100"}),t(d,{prop:"detailAddress",label:"详细地址",width:"150"}),t(d,{label:"操作"},{default:o(a=>[t(r,{size:"small",onClick:V=>e.showEdit(a.row)},{default:o(()=>[m("编辑")]),_:2},1032,["onClick"]),t(r,{size:"small",type:"danger",onClick:V=>e.handleDelete(a.row)},{default:o(()=>[m("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e.dialogVisible?(h(),E(g,{key:0,modelValue:e.dialogVisible,"onUpdate:modelValue":l[15]||(l[15]=a=>e.dialogVisible=a),title:e.isEdit?"修改数据":"新增数据",width:"400px"},{footer:o(()=>[u("span",K,[t(r,{type:"primary",onClick:l[13]||(l[13]=a=>e.confire())},{default:o(()=>[m("取消")]),_:1}),t(r,{type:"primary",onClick:l[14]||(l[14]=a=>e.isEdit?e.editConfirm():e.confirm())},{default:o(()=>[m("确认")]),_:1})])]),default:o(()=>[t(f,{ref:"dialogForm",model:e.itemData,rules:e.rules},{default:o(()=>[t(s,{label:"编号","label-width":"100",prop:"id"},{default:o(()=>[t(i,{modelValue:e.itemData.id,"onUpdate:modelValue":l[3]||(l[3]=a=>e.itemData.id=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(s,{label:"地址名称","label-width":"100",prop:"addressName"},{default:o(()=>[t(i,{modelValue:e.itemData.addressName,"onUpdate:modelValue":l[4]||(l[4]=a=>e.itemData.addressName=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(s,{label:"默认发货地址","label-width":"100",prop:"sendStatus"},{default:o(()=>[t(i,{modelValue:e.itemData.sendStatus,"onUpdate:modelValue":l[5]||(l[5]=a=>e.itemData.sendStatus=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(s,{label:"默认收货地址","label-width":"100",prop:"receiveStatus"},{default:o(()=>[t(i,{modelValue:e.itemData.receiveStatus,"onUpdate:modelValue":l[6]||(l[6]=a=>e.itemData.receiveStatus=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(s,{label:"收货人姓名","label-width":"100",prop:"name"},{default:o(()=>[t(i,{modelValue:e.itemData.name,"onUpdate:modelValue":l[7]||(l[7]=a=>e.itemData.name=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(s,{label:"电话","label-width":"100",prop:"phone"},{default:o(()=>[t(i,{modelValue:e.itemData.phone,"onUpdate:modelValue":l[8]||(l[8]=a=>e.itemData.phone=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(s,{label:"省","label-width":"100",prop:"province"},{default:o(()=>[t(i,{modelValue:e.itemData.province,"onUpdate:modelValue":l[9]||(l[9]=a=>e.itemData.province=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(s,{label:"市","label-width":"100",prop:"city"},{default:o(()=>[t(i,{modelValue:e.itemData.city,"onUpdate:modelValue":l[10]||(l[10]=a=>e.itemData.city=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(s,{label:"区","label-width":"100",prop:"region"},{default:o(()=>[t(i,{modelValue:e.itemData.region,"onUpdate:modelValue":l[11]||(l[11]=a=>e.itemData.region=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(s,{label:"详细地址","label-width":"100",prop:"detailAddress"},{default:o(()=>[t(i,{modelValue:e.itemData.detailAddress,"onUpdate:modelValue":l[12]||(l[12]=a=>e.itemData.detailAddress=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])):C("",!0)])}const ae=w(M,[["render",H],["__scopeId","data-v-8a91c4b2"]]);export{ae as default};
